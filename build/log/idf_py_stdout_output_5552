[1/10] Performing build step for 'bootloader'
[1/1] cmd.exe /C "cd /D C:\Users\michc\Desktop\SPE-LAN8651\build\bootloader\esp-idf\esptool_py && C:\Users\michc\.espressif\python_env\idf5.3_py3.11_env\Scripts\python.exe C:/Users/michc/esp/v5.3.1/esp-idf/components/partition_table/check_sizes.py --offset 0x8000 bootloader 0x1000 C:/Users/michc/Desktop/SPE-LAN8651/build/bootloader/bootloader.bin"
Bootloader binary size 0x6880 bytes. 0x780 bytes (7%) free.
[2/8] Building C object esp-idf/main/CMakeFiles/__idf_main.dir/main.c.obj
FAILED: esp-idf/main/CMakeFiles/__idf_main.dir/main.c.obj 
ccache C:\Users\michc\.espressif\tools\xtensa-esp-elf\esp-13.2.0_20240530\xtensa-esp-elf\bin\xtensa-esp32-elf-gcc.exe -DESP_PLATFORM -DIDF_VER=\"v5.3.1\" -DSOC_MMU_PAGE_SIZE=CONFIG_MMU_PAGE_SIZE -DSOC_XTAL_FREQ_MHZ=CONFIG_XTAL_FREQ -D_GLIBCXX_HAVE_POSIX_SEMAPHORE -D_GLIBCXX_USE_POSIX_SEMAPHORE -D_GNU_SOURCE -D_POSIX_READER_WRITER_LOCKS -IC:/Users/michc/Desktop/SPE-LAN8651/build/config -IC:/Users/michc/Desktop/SPE-LAN8651/main -IC:/Users/michc/esp/v5.3.1/esp-idf/components/newlib/platform_include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/freertos/config/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/freertos/config/include/freertos -IC:/Users/michc/esp/v5.3.1/esp-idf/components/freertos/config/xtensa/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/freertos/FreeRTOS-Kernel/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/include/freertos -IC:/Users/michc/esp/v5.3.1/esp-idf/components/freertos/esp_additions/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_hw_support/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_hw_support/include/soc -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_hw_support/include/soc/esp32 -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_hw_support/dma/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_hw_support/ldo/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_hw_support/port/esp32/. -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_hw_support/port/esp32/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/heap/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/log/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/soc/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/soc/esp32 -IC:/Users/michc/esp/v5.3.1/esp-idf/components/soc/esp32/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/hal/platform_port/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/hal/esp32/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/hal/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_rom/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_rom/include/esp32 -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_rom/esp32 -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_common/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_system/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_system/port/soc -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_system/port/include/private -IC:/Users/michc/esp/v5.3.1/esp-idf/components/xtensa/esp32/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/xtensa/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/xtensa/deprecated_include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/lwip/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/lwip/include/apps -IC:/Users/michc/esp/v5.3.1/esp-idf/components/lwip/include/apps/sntp -IC:/Users/michc/esp/v5.3.1/esp-idf/components/lwip/lwip/src/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/lwip/port/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/lwip/port/freertos/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/lwip/port/esp32xx/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/lwip/port/esp32xx/include/arch -IC:/Users/michc/esp/v5.3.1/esp-idf/components/lwip/port/esp32xx/include/sys -IC:/Users/michc/Desktop/SPE-LAN8651/components/libtc6/inc -IC:/Users/michc/esp/v5.3.1/esp-idf/components/driver/deprecated -IC:/Users/michc/esp/v5.3.1/esp-idf/components/driver/i2c/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/driver/touch_sensor/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/driver/twai/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/driver/touch_sensor/esp32/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_pm/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_ringbuf/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_driver_gpio/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_driver_pcnt/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_driver_gptimer/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_driver_spi/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_driver_mcpwm/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_driver_ana_cmpr/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_driver_i2s/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_driver_sdmmc/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/sdmmc/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_driver_sdspi/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_driver_sdio/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_driver_dac/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_driver_rmt/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_driver_tsens/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_driver_sdm/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_driver_i2c/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_driver_uart/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/vfs/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_driver_ledc/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_driver_parlio/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_driver_usb_serial_jtag/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_timer/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_netif/include -IC:/Users/michc/esp/v5.3.1/esp-idf/components/esp_event/include -mlongcalls -Wno-frame-address  -fno-builtin-memcpy -fno-builtin-memset -fno-builtin-bzero -fno-builtin-stpcpy -fno-builtin-strncpy -fdiagnostics-color=always -ffunction-sections -fdata-sections -Wall -Werror=all -Wno-error=unused-function -Wno-error=unused-variable -Wno-error=unused-but-set-variable -Wno-error=deprecated-declarations -Wextra -Wno-unused-parameter -Wno-sign-compare -Wno-enum-conversion -gdwarf-4 -ggdb -Og -fno-shrink-wrap -fmacro-prefix-map=C:/Users/michc/Desktop/SPE-LAN8651=. -fmacro-prefix-map=C:/Users/michc/esp/v5.3.1/esp-idf=/IDF -fstrict-volatile-bitfields -fno-jump-tables -fno-tree-switch-conversion -std=gnu17 -Wno-old-style-declaration -MD -MT esp-idf/main/CMakeFiles/__idf_main.dir/main.c.obj -MF esp-idf\main\CMakeFiles\__idf_main.dir\main.c.obj.d -o esp-idf/main/CMakeFiles/__idf_main.dir/main.c.obj -c C:/Users/michc/Desktop/SPE-LAN8651/main/main.c
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c: In function 'initPhyResetPin':
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c:38:22: error: storage class specified for parameter 'serviceNeeded'
   38 | static volatile bool serviceNeeded = false;
      |                      ^~~~~~~~~~~~~
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c:38:1: error: parameter 'serviceNeeded' is initialized
   38 | static volatile bool serviceNeeded = false;
      | ^~~~~~
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c:44:1: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
   44 | {
      | ^
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c:110:1: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
  110 | {
      | ^
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c:151:1: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
  151 | {
      | ^
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c:185:1: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
  185 | {
      | ^
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c:225:28: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
  225 | void initPhyResetPin(void) {
      |                            ^
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c:267:1: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
  267 | {
      | ^
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c:277:1: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
  277 | {
      | ^
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c:283:1: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
  283 | {
      | ^
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c:289:1: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
  289 | {
      | ^
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c:297:1: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
  297 | {
      | ^
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c:303:1: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
  303 | {
      | ^
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c:308:1: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
  308 | {
      | ^
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c:320:37: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
  320 | void printChipRevision(TC6_t *pInst){
      |                                     ^
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c:327:1: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
  327 | {
      | ^
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c:335:1: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
  335 | {
      | ^
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c:34:6: error: old-style parameter declarations in prototyped function definition
   34 | void initPhyResetPin(void)
      |      ^~~~~~~~~~~~~~~
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c:364: error: expected '{' at end of input
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c: At top level:
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c:28:18: warning: 'init_spi' declared 'static' but never defined [-Wunused-function]
   28 | static esp_err_t init_spi(void);
      |                  ^~~~~~~~
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c:29:13: warning: 'init_tc6' declared 'static' but never defined [-Wunused-function]
   29 | static void init_tc6(void); // Přidáno
      |             ^~~~~~~~
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c:30:13: warning: 'handle_tc6_service' declared 'static' but never defined [-Wunused-function]
   30 | static void handle_tc6_service(void); // Přidáno
      |             ^~~~~~~~~~~~~~~~~~
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c:31:13: warning: 'onReadChipId' declared 'static' but never defined [-Wunused-function]
   31 | static void onReadChipId(TC6_t *pInst, bool success, uint32_t addr, uint32_t regValue, void *pTag, void *pGlobalTag);
      |             ^~~~~~~~~~~~
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c:32:17: warning: 'lan8651ReadChipId' declared 'static' but never defined [-Wunused-function]
   32 | static uint32_t lan8651ReadChipId(TC6_t *tc6_instance);
      |                 ^~~~~~~~~~~~~~~~~
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c:33:13: warning: 'printChipRevision' declared 'static' but never defined [-Wunused-function]
   33 | static void printChipRevision(TC6_t *pInst);
      |             ^~~~~~~~~~~~~~~~~
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c:22:15: warning: 'tc6_instance' defined but not used [-Wunused-variable]
   22 | static TC6_t *tc6_instance = NULL;
      |               ^~~~~~~~~~~~
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c:19:28: warning: 'spi_handle' defined but not used [-Wunused-variable]
   19 | static spi_device_handle_t spi_handle;
      |                            ^~~~~~~~~~
C:/Users/michc/Desktop/SPE-LAN8651/main/main.c:18:20: warning: 'TAG' defined but not used [-Wunused-variable]
   18 | static const char *TAG = "TC6_MAIN";
      |                    ^~~
ninja: build stopped: subcommand failed.
